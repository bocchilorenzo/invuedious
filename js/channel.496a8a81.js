"use strict";(self["webpackChunkinvuedious"]=self["webpackChunkinvuedious"]||[]).push([[256],{687:function(a,t,e){e.d(t,{Z:function(){return k}});var n=e(252);const r={class:"columns"};function i(a,t,e,i,d,s){const l=(0,n.up)("roundedCard");return(0,n.wg)(),(0,n.iD)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.dataArray,(a=>((0,n.wg)(),(0,n.iD)("div",{key:a.authorId,class:"column col-xs-12 col-sm-6 col-md-3 col-2"},[(0,n.Wm)(l,{channelData:a,mode:e.mode},null,8,["channelData","mode"])])))),128))])}var d=e(577);const s=a=>((0,n.dD)("data-v-58f1f0fb"),a=a(),(0,n.Cn)(),a),l={class:"card"},o={class:"card-image"},c=["src","alt"],u={class:"card-header"},h={class:"card-title h6"},m={class:"card-subtitle text-gray"},v={key:0,class:"card-body"},y=s((()=>(0,n._)("br",null,null,-1)));function g(a,t,e,r,i,s){const g=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(g,{to:{name:"channel",path:"/channel/:id",params:{id:e.channelData.authorId},props:!0}},{default:(0,n.w5)((()=>[(0,n._)("div",o,[(0,n._)("img",{src:e.channelData.authorThumbnails[2].url,class:"img-responsive",alt:e.channelData.author},null,8,c)])])),_:1},8,["to"]),(0,n._)("div",u,[(0,n.Wm)(g,{to:{name:"channel",path:"/channel/:id",params:{id:e.channelData.authorId},props:!0}},{default:(0,n.w5)((()=>[(0,n._)("div",h,(0,d.zw)(e.channelData.author),1)])),_:1},8,["to"]),(0,n._)("div",m,(0,d.zw)(e.channelData.description),1)]),"channelInfo"!=e.mode?((0,n.wg)(),(0,n.iD)("div",v,[(0,n.Uk)(" Subscribers: "+(0,d.zw)(e.channelData.formattedSubs)+" ",1),y,(0,n.Uk)(" Videos: "+(0,d.zw)(e.channelData.videoCount),1)])):(0,n.kq)("",!0)])}var p={name:"roundedCard",props:{channelData:Object,mode:String}},b=e(744);const w=(0,b.Z)(p,[["render",g],["__scopeId","data-v-58f1f0fb"]]);var f=w,_={name:"roundedCardContainer",props:{dataArray:Array,mode:String},components:{roundedCard:f}};const A=(0,b.Z)(_,[["render",i]]);var k=A},345:function(a,t,e){e.r(t),e.d(t,{default:function(){return na}});var n=e(252),r=e(577);const i=a=>((0,n.dD)("data-v-1e9f997d"),a=a(),(0,n.Cn)(),a),d={key:0,class:"loading loading-lg"},s={key:1},l={key:0},o={class:"empty"},c={class:"empty-icon"},u=i((()=>(0,n._)("p",{class:"empty-title h5"},"Connection error",-1))),h=i((()=>(0,n._)("p",{class:"empty-subtitle"},[(0,n.Uk)(" The request to the indvidious instance took too long, or the channel doesn't exist. "),(0,n._)("br"),(0,n.Uk)("Check your connection and try again. ")],-1))),m={class:"empty-action"},v={class:"tab tab-block"},y={key:0,class:"container2"},g={key:0},p={key:1},b={class:"empty"},w={class:"empty-icon"},f=i((()=>(0,n._)("p",{class:"empty-title h5"},"No videos found",-1))),_={key:1,class:"container2"},A={key:0},k={key:1},D={class:"empty"},C={class:"empty-icon"},S=i((()=>(0,n._)("p",{class:"empty-title h5"},"No related channels",-1))),W={key:1,id:"channelDescription"},z=["innerHTML"],I={style:{color:"white"}};function x(a,t,e,i,x,B){const T=(0,n.up)("unicon"),E=(0,n.up)("channelHeader"),L=(0,n.up)("router-link"),U=(0,n.up)("cardContainer"),H=(0,n.up)("roundedCardContainer");return x.loading?((0,n.wg)(),(0,n.iD)("div",d)):((0,n.wg)(),(0,n.iD)("div",s,[x.failed?((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",o,[(0,n._)("div",c,[(0,n.Wm)(T,{name:"sad-dizzy",fill:"var(--primary)",width:"50px",height:"50px"})]),u,h,(0,n._)("div",m,[(0,n._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=a=>B.reconnect())},"RETRY")])])])):(0,n.kq)("",!0),(0,n.Wm)(E,{dataArray:x.dataArray},null,8,["dataArray"]),(0,n._)("ul",v,[(0,n._)("li",{class:"tab-item",id:"tab1",onClick:t[1]||(t[1]=a=>B.setActive(1))},[(0,n.Wm)(L,{to:{name:"channel"}},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{name:"video",fill:"var(--primary)"}),(0,n.Uk)("VIDEOS ")])),_:1})]),(0,n._)("li",{class:"tab-item",id:"tab2",onClick:t[2]||(t[2]=a=>B.setActive(2))},[(0,n.Wm)(L,{to:{name:"channel"}},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{name:"tv-retro",fill:"var(--primary)"}),(0,n.Uk)("CHANNELS ")])),_:1})]),(0,n._)("li",{class:"tab-item",id:"tab3",onClick:t[3]||(t[3]=a=>B.setActive(3))},[(0,n.Wm)(L,{to:{name:"channel"}},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{name:"info-circle",fill:"var(--primary)"}),(0,n.Uk)("ABOUT ")])),_:1})])]),(0,n._)("div",null,["videos"==x.mode?((0,n.wg)(),(0,n.iD)("div",y,[0!=x.dataArray[0].latestVideos.length?((0,n.wg)(),(0,n.iD)("div",g,[(0,n.Wm)(U,{videoArray:x.dataArray[0].latestVideos},null,8,["videoArray"])])):((0,n.wg)(),(0,n.iD)("div",p,[(0,n._)("div",b,[(0,n._)("div",w,[(0,n.Wm)(T,{name:"image-times",fill:"var(--primary)",width:"50px",height:"50px"})]),f])]))])):((0,n.wg)(),(0,n.iD)("div",_,["channels"==x.mode?((0,n.wg)(),(0,n.iD)("div",A,[0!=x.dataArray[0].relatedChannels.length?((0,n.wg)(),(0,n.j4)(H,{key:0,dataArray:x.dataArray[0].relatedChannels,mode:"channelInfo"},null,8,["dataArray"])):((0,n.wg)(),(0,n.iD)("div",k,[(0,n._)("div",D,[(0,n._)("div",C,[(0,n.Wm)(T,{name:"tv-retro-slash",fill:"var(--primary)",width:"50px",height:"50px"})]),S])]))])):((0,n.wg)(),(0,n.iD)("div",W,[(0,n._)("div",{innerHTML:x.dataArray[0].descriptionHtml,id:"descriptionText"},null,8,z),(0,n._)("div",null,[(0,n._)("p",null,[(0,n.Uk)(" Joined: "),(0,n._)("span",I,(0,r.zw)(x.dataArray[0].dateJoined),1)]),(0,n._)("p",null,(0,r.zw)(x.dataArray[0].formattedViews),1),(0,n._)("p",null,(0,r.zw)(x.dataArray[0].formattedSubs)+" subscribers",1)])]))]))])]))}var B=e(686),T=e(687);const E={key:0,class:"bannerContent"},L=["data-initial"],U=["src","alt"],H={class:"channelTitle"},V={class:"channelSubtitle"},Z={key:1,class:"channelBanner"},q={key:0,class:"bannerContent"},M={class:"avatar avatar-xxl"},j=["src"],N={class:"channelTitle"},J={class:"channelSubtitle"},O={key:2,class:"bannerContent"},Y={class:"avatar avatar-xxl"},R=["src"],$={class:"channelTitle"},F={class:"channelSubtitle"};function K(a,t,e,i,d,s){return(0,n.wg)(),(0,n.iD)("div",null,[0!=e.dataArray[0].authorBanners.length?((0,n.wg)(),(0,n.iD)("header",{key:0,class:"channelBanner",style:(0,r.j5)({background:"url("+e.dataArray[0].authorBanners[1].url+")"})},[d.myWidth>900?((0,n.wg)(),(0,n.iD)("div",E,[(0,n._)("figure",{class:"avatar avatar-xxl","data-initial":e.dataArray[0].author.charAt(0)},[(0,n._)("img",{src:e.dataArray[0].authorThumbnails[2].url,alt:e.dataArray[0].author},null,8,U)],8,L),(0,n._)("div",null,[(0,n._)("h1",H,(0,r.zw)(e.dataArray[0].author),1),(0,n._)("h5",V," Subscribers: "+(0,r.zw)(e.dataArray[0].formattedSubs),1)])])):(0,n.kq)("",!0)],4)):((0,n.wg)(),(0,n.iD)("header",Z,[d.myWidth>900?((0,n.wg)(),(0,n.iD)("div",q,[(0,n._)("figure",M,[(0,n._)("img",{src:e.dataArray[0].authorThumbnails[2].url,alt:"..."},null,8,j)]),(0,n._)("div",null,[(0,n._)("h1",N,(0,r.zw)(e.dataArray[0].author),1),(0,n._)("h5",J," Subscribers: "+(0,r.zw)(e.dataArray[0].formattedSubs),1)])])):(0,n.kq)("",!0)])),d.myWidth<=900?((0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("figure",Y,[(0,n._)("img",{src:e.dataArray[0].authorThumbnails[2].url,alt:"..."},null,8,R)]),(0,n._)("div",null,[(0,n._)("h3",$,(0,r.zw)(e.dataArray[0].author),1),(0,n._)("h6",F," Subscribers: "+(0,r.zw)(e.dataArray[0].formattedSubs),1)])])):(0,n.kq)("",!0)])}var P={name:"channelHeader",props:{dataArray:Array},data(){return{myWidth:0}},created(){this.displayWindowSize(),window.onresize=this.displayWindowSize},methods:{displayWindowSize(){this.myWidth=window.innerWidth}}},G=e(744);const Q=(0,G.Z)(P,[["render",K],["__scopeId","data-v-7d467678"]]);var X=Q,aa=e(77),ta={name:"channelPage",data(){return{loading:!0,mode:"videos",dataArray:[],id:this.$route.params.id,failed:!1}},props:{reload:Boolean},components:{cardContainer:B.Z,roundedCardContainer:T.Z,channelHeader:X},created(){this.getChannelData()},methods:{reconnect(){this.loading=!0,this.mode="videos",this.dataArray=[],this.failed=!1,this.getChannelData()},async getChannelData(){var a=this.$store.state.selected+"/api/v1/channels/"+this.id;await fetch(a,{signal:AbortSignal.timeout(1e4)}).then((a=>a.json())).then((a=>{document.title=a.author+" - Invuedious";let t={};if(t=a,t.formattedSubs=aa(a.subCount).format("0a"),"m"==t.formattedSubs.charAt(t.formattedSubs.length-1)){var e=t.formattedSubs.substr(0,t.formattedSubs.length-1)+"M";t.formattedSubs=e}t.dateJoined=this.timeConverter(a.joined),t.formattedViews=a.totalViews+" views",this.dataArray.push(t)})).catch((()=>{this.failed=!0})).then((()=>this.loading=!1)).then((()=>this.setActive(1)))},timeConverter(a){var t=new Date(1e3*a),e=t.getFullYear(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,r=t.getDate()<10?"0"+t.getDate():t.getDate(),i=n+"-"+r+"-"+e;return i},setActive(a){1==a?("videos"!=this.mode&&(this.mode="videos"),document.getElementById("tab1").classList.add("active"),document.getElementById("tab2").classList.remove("active"),document.getElementById("tab3").classList.remove("active")):2==a?("channels"!=this.mode&&(this.mode="channels"),document.getElementById("tab2").classList.add("active"),document.getElementById("tab1").classList.remove("active"),document.getElementById("tab3").classList.remove("active")):("about"!=this.mode&&(this.mode="about"),document.getElementById("tab3").classList.add("active"),document.getElementById("tab2").classList.remove("active"),document.getElementById("tab1").classList.remove("active"))}},watch:{reload(){this.reload&&this.reconnect()}}};const ea=(0,G.Z)(ta,[["render",x],["__scopeId","data-v-1e9f997d"]]);var na=ea}}]);
//# sourceMappingURL=channel.496a8a81.js.map